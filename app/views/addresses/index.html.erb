<p id="notice"></p>

<div class="container">
  <div class="row">
    <div class="mx-auto col-12">
      <h4 class="text-center col-3 offset-1 mt-4 mb-5 page-title font-weight-bold">配送先登録/一覧</h4>
      <%= form_with model: @address, url: {controller: 'addresses', action: 'create' }, local:true do |f| %>
        <div class="field form-group row d-flex align-items-center">
          <label class="col-2 small">郵便番号（ハイフンなし）</label>
          <div class="col-3"><%= f.text_field :postal_code, placeholder: "0000000", class: 'form-control' %></div>
        </div>
        <div class="field form-group row d-flex align-items-center">
          <label class="col-2 small">住所</label>
          <div class="col-6"><%= f.text_field :address, placeholder: "東京都渋谷区代々木神園町0-0", class: 'form-control' %></div>
        </div>
        <div class="field form-group row d-flex align-items-center">
          <label class="col-2 small">宛名</label>
          <div class="col-3"><%= f.text_field :name, placeholder: '令和道子', class: 'form-control' %></div>
          <div class="col-2 offset-2"><%= f.submit "新規登録", class: 'btn btn-success' %></div>
        </div>
      <% end %>
      <div class="col-10 mt-5">
        <table class="table table-hover table-bordered address-table">
            <thead>
              <tr>
                <th class="table-active">郵便番号</th>
                <th class="table-active">住所</th>
                <th class="table-active">宛名</th>
                <th class="table-active"></th>
              </tr>
            </thead>
            <tbody>
              <% @addresses.each do |address| %>
              <tr>
                <td style="width:16%"><%= address.postal_code %></td>
                <td style="width:48%"><%= address.address %></td>
                <td style="width:16%"><%= address.name %></td>
                <td style="width:20%">
                  <div class="row">
                    <%= link_to '編集する', edit_address_path(address.id), class: 'btn btn-sm btn-success mx-auto' %>
                    <%= link_to '削除する', address_path(address.id), method: :delete, "data-confirm" => "本当に削除しますか？", class: 'btn btn-sm btn-danger mx-auto' %>
                  </div>
                </td>
              </tr>
              <% end %>
            </tbody>
          </table>
      </div>
    </div>
  </div>
</div>